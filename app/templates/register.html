{% extends "main.html" %}
{% block content1 %}

<section class="content">
  <h3>Register Course</h3>
  <small>May the force be with you.</small>
  <hr>
  <div class="container-fluid">
      <h4>Study Schedule</h4>
      <table class="table table-striped table-bordered width:100px;">
        <thead>
          <tr>
            <th></th>
            {% for t in range(8,18) %}
              {% set time = "{:02}".format(t)+":00" %}
              <th style ="font-size:0.9vw;">{{time}}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="color:azure; height:60px;"> Monday </td>
            {% for course in [{"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},"","",
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},{"name":"Intro to Database Design","building":"Lorem","room":"404"}] %}
              {% if course != ""%}
                {% set classroom = "\n"+"("+course.building+" "+course.room+")" %}
                {% if course.name|length > 10 %}
                  <td class= "classroom-long">{{course.name}}{{classroom}}</td>
                {% elif 0 < course|length < 10  %}
                  <td class= "classroom-short"> {{course}} </td>
                {% elif course|length == 0  %}
                  <td> {{course}} </td>
                {% endif %}
              {% else %}
                <td class= "classroom-long"></td>
              {% endif %}
            {% endfor %}
          </tr>
          <tr>
            <td style="color:azure;"> Tuesday </td>
            {% for course in [{"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},"","",
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},{"name":"Intro to Database Design","building":"Lorem","room":"404"}] %}
              {% if course != ""%}
                {% set classroom = "\n"+"("+course.building+" "+course.room+")" %}
                {% if course.name|length > 10 %}
                  <td class= "classroom-long">{{course.name}}{{classroom}}</td>
                {% elif 0 < course|length < 10  %}
                  <td class= "classroom-short"> {{course}} </td>
                {% elif course|length == 0  %}
                  <td> {{course}} </td>
                {% endif %}
              {% else %}
                <td class= "classroom-long"></td>
              {% endif %}
          {% endfor %}
          </tr>
          <tr>
            <td style="color:azure; height:60px"> Wednesday </td>
            {% for course in [{"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},"","",
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},{"name":"Intro to Database Design","building":"Lorem","room":"404"}] %}
              {% if course != ""%}
                {% set classroom = "\n"+"("+course.building+" "+course.room+")" %}
                {% if course.name|length > 10 %}
                  <td class= "classroom-long">{{course.name}}{{classroom}}</td>
                {% elif 0 < course|length < 10  %}
                  <td class= "classroom-short"> {{course}} </td>
                {% elif course|length == 0  %}
                  <td> {{course}} </td>
                {% endif %}
              {% else %}
                <td class= "classroom-long"></td>
              {% endif %}
          {% endfor %}
          </tr>
          <tr>
            <td style="color:azure;"> Thursday </td>
            {% for course in [{"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},"","",
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},{"name":"Intro to Database Design","building":"Lorem","room":"404"}] %}
              {% if course != ""%}
                {% set classroom = "\n"+"("+course.building+" "+course.room+")" %}
                {% if course.name|length > 10 %}
                  <td class= "classroom-long">{{course.name}}{{classroom}}</td>
                {% elif 0 < course|length < 10  %}
                  <td class= "classroom-short"> {{course}} </td>
                {% elif course|length == 0  %}
                  <td> {{course}} </td>
                {% endif %}
              {% else %}
                <td class= "classroom-long"></td>
              {% endif %}
            {% endfor %}
          </tr>
          <tr>
            <td style="color:azure;"> Friday </td>
            {% for course in [{"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},"","",
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},
            {"name":"Intro to Database Design","building":"Lorem","room":"404"},{"name":"Intro to Database Design","building":"Lorem","room":"404"}] %}
              {% if course != ""%}
                {% set classroom = "\n"+"("+course.building+" "+course.room+")" %}
                {% if course.name|length > 10 %}
                  <td class= "classroom-long">{{course.name}}{{classroom}}</td>
                {% elif 0 < course|length < 10  %}
                  <td class= "classroom-short"> {{course}} </td>
                {% elif course|length == 0  %}
                  <td> {{course}} </td>
                {% endif %}
              {% else %}
                <td class= "classroom-long"></td>
              {% endif %}
          {% endfor %}
          </tr>
        </tbody>
      </table>

      <br>

      <h4>Registered courses</h4>
      <table class="table table-responsive">
        <thead>
          <tr>
            <th class="col-md-1 center-text">COURSE NO</th>
            <!-- <th class="col-md-2 center-text">COURSE TITLE</th> -->
            <th class="col-md-1 center-text">SECTION</th>
            <!-- <th class="col-md-1 center-text">CREDIT</th> -->
          </tr>
          </thead>
          <tbody>
            {% for i in range(8)%}
            <tr>
              <td style="text-align:center;"><input name="subject" type="text" class="input-register-big"></td>
              <!-- <td style="text-align:center;">Database</td> -->
              <td style="text-align:center;"><input type="text" class="input-text-small"></td>
              <!-- <td style="text-align:center;">3</td> -->
            </tr>
            {% endfor %}
          </tbody>
      </table>
      <br>
      <div style="display:flex; justify-content: center; ">
          <button class="btn btn-w-md btn-success" data-toggle="modal" data-target="#confirmModal">Confirm</button>
      </div>
  </div>

  <div class="modal fade in" id="confirmModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog .modal-lg">
          <div class="modal-content">
              <div class="modal-header text-center">
                  <h4 class="modal-title">Registerd courses</h4>
                  <small>Becareful! If you click on confirm button, it won't be editable.</small>
              </div>
              <div class="modal-body">
                  <div class="row">
                      <table class="table table-responsive">
                          <thead>
                            <tr>
                              <th class="col-md-1 center-text">COURSE NO</th>
                              <th class="col-md-2 center-text">COURSE TITLE</th>
                              <th class="col-md-1 center-text">SECTION</th>
                              <th class="col-md-1 center-text">CREDIT</th>
                            </tr>
                            </thead>
                            <tbody>
                              {% for i in range(8)%}
                              <tr>
                                <td style="text-align:center;"><input name="subject" type="text" class="input-register-big"></td>
                                <td style="text-align:center;">Database</td>
                                <td style="text-align:center;"><input type="text" class="input-text-small"></td>
                                <td style="text-align:center;">3</td>
                              </tr>
                              {% endfor %}
                            </tbody>
                        </table>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="button" id="confirm" class="btn btn-accent">Confirm</button>
              </div>
          </div>
      </div>
  </div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
$("#confirm").on('click', function(){
  $.ajax({
    url:"/api/register_new_course",
    method: "POST",
    data:{
      sid: 10001,
      course_id: 2110101,
      section: 1,
      course_semester_no: 1,
      course_year: 2560
    }
  });
});
</script>

{% endblock %}
